{% extends "base.html" %}
{% block content %}

{% if texto_legal %}
<button class="btn btn-secondary mb-3" data-bs-toggle="modal" data-bs-target="#modalTextoLegal">
  üìÑ Ver texto legal del SAT
</button>
{% endif %}

<!-- Modal Texto Legal -->
<div class="modal fade" id="modalTextoLegal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header bg-dark text-white">
        <h5 class="modal-title">Texto legal del SAT</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">
        <p style="white-space: pre-line;">
          {{ texto_legal.linea1 }}

          {{ texto_legal.linea2 }}
        </p>
      </div>

      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
      </div>

    </div>
  </div>
</div>

<h1 class="mb-2">{{ tabla_info.nombre }}</h1>
<p class="text-muted mb-4">{{ tabla_info.descripcion }}</p>

<div class="card p-4 shadow-sm">
  <h2 class="h5 mb-3">Registros ({{ total }})</h2>

  <div class="table-responsive">
    <table class="table table-striped table-hover align-middle">
      <thead class="table-primary">
        <tr>
          {% for col in columnas %}
            <th>{{ col }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for r in registros %}
        <tr>
          {% for col in columnas %}
            <td>{{ r[col] }}</td>
          {% endfor %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="d-flex justify-content-between mt-3">
    {% if page > 1 %}
      <a class="btn btn-secondary" href="?page={{ page - 1 }}">‚Üê Anterior</a>
    {% else %}
      <span></span>
    {% endif %}

    {% if page < total_pages %}
      <a class="btn btn-primary" href="?page={{ page + 1 }}">Siguiente ‚Üí</a>
    {% endif %}
  </div>
</div>

{% endblock %}
